<template>
    <ul>
        <template for:each={questions} for:item="question">
            <li key={question.Id}> 
                <c-question-tile question={question} onfireselectedoption={retrieveSelectedOption} 
                                all-selected-options={selectedOptions}>                    
                </c-question-tile>                              
            </li>
        </template>
    
    </ul>
    <template if:true={isLast}>
        <div class="background">
            <h2 class="slds-text-heading_small slds-m-bottom_small slds-align_absolute-center"></h2>
                <lightning-button variant="brand" label="<Previous" title="Primary action"  onclick={handleClickPrevious} class= "slds-m-right_xx-small"></lightning-button>
                <lightning-button variant="brand" label="Submit questionnaire" title="Primary action" onclick={handleClickFinal} class="style" disabled={isDisabledLastQuestion}></lightning-button> 
        </div>
    </template>

    <template if:true={isFirst}>
    <div class="background">
        <h2 class="slds-text-heading_small slds-m-bottom_small slds-align_absolute-center"></h2>
            <lightning-button variant="brand" label="Submit answers" title="Primary action" onclick={handleClickNext} class="style" disabled={isDisabled}></lightning-button>
    </div>
    </template>

    <template if:true={isIntermediate}>
        <div class="background">
            <h2 class="slds-text-heading_small slds-m-bottom_small slds-align_absolute-center"></h2>
                <lightning-button class= "slds-m-right_xx-small" variant="brand" label="<Previous" title="Primary action" onclick={handleClickPrevious}></lightning-button>
                <lightning-button variant="brand" label="Submit answers" title="Primary action" onclick={handleClickNext} disabled={isDisabled}></lightning-button>
        </div>
        </template>
</template>